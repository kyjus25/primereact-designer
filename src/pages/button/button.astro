---
import ReactComponent from '../../components/button/button.tsx';
import VueComponent from '../../components/button/button.vue';

import * as ThemeHelper from '../../helpers/themes';
import Base from '../../layouts/base.astro';
import Card from '../../components/card.astro';

const opts = ThemeHelper.getOpts(Astro);
const themes = await ThemeHelper.getThemes(opts);
// @ts-ignore
const getTheme = (str: string) => themes[str];
---

<Base components={['Button', 'Speed Dial', 'SplitButton']}>
  {
    opts.map((i: any) => (
      <div class="flex flex-col gap-4 flex-1">
        {i[0] === 'react' && (
          <Card title="Button" framework="React">
            <ReactComponent theme={getTheme(i[1])} client:load />
          </Card>
        )}
        {i[0] === 'vue' && (
          <Card title="Button" framework="Vue">
            <VueComponent theme={getTheme(i[1])} client:load />
          </Card>
        )}
        {i[0] === 'ng' && (
          <Card title="Button" framework="Angular">
            Not supported
          </Card>
        )}
      </div>
    ))
  }
</Base>
